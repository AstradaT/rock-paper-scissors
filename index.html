<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Rock Paper Scissors</title>
    </head>
    <body>
        <script>
            function computerPlay() {
                // randomly RETURN either ‘Rock’, ‘Paper’ or ‘Scissors’.
                let options = ['rock', 'paper', 'scissors'];
                return options[Math.floor(Math.random() * options.length)];
            }

            function playRound(playerSelection, computerSelection) {
                // RETURN a string that declares the winner of the round.
                if (playerSelection === 'rock') {
                    if (computerSelection === 'paper') {
                        return 0;
                    } else if (computerSelection === 'scissors') {
                        return 1;
                    } else {
                        return 2;
                    }
                } else if (playerSelection === 'paper') {
                    if (computerSelection === 'scissors') {
                        return 0;
                    } else if (computerSelection == 'rock') {
                        return 1;
                    } else {
                        return 2;
                    }
                }  else {
                    if (computerSelection === 'rock') {
                        return 0;
                    } else if (computerSelection === 'paper') {
                        return 1;
                    } else {
                        return 2;
                    }
                }
            }

            function game() {
                // Use the previous function inside of this one to play a 5 
                // round game that keeps score and reports a winner or loser 
                // at the end using console.log().
                let playerScore = 0;
                let computerScore = 0;

                do {
                    let playerSelection = prompt("Choose rock, paper, or scissors: ").toLowerCase()
                    let computerSelection = computerPlay();

                    result = playRound(playerSelection, computerSelection);

                    if (result === 0) {
                        console.log(`You lose! ${computerSelection} beats ${playerSelection}.`);
                        computerScore++;
                    } else if (result === 1) {
                        console.log(`You win! ${playerSelection} beats ${computerSelection}.`);
                        playerScore++;
                    } else {
                        console.log("It's a tie!");
                    }
                } while (computerScore !== 5 && playerScore !== 5);

                console.log(`Player: ${playerScore}\nComputer: ${computerScore}`);
            }

            game();
        </script>
    </body>
</html>